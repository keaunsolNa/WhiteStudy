# Interrupt

---

![Untitled](Interrupt/Untitled.png)

# μ •μ

- μΈν„°λ½νΈλ” μ»΄ν“¨ν„°μ— μ—°κ²°λ μ¥μΉλ‚ μ»΄ν“¨ν„° λ‚΄μ ν”„λ΅κ·Έλ¨μ—μ„ λ°μƒν•λ” μ‹ νΈλ‹¤.
- μΈν„°λ½νΈλ” μ„λΉ„μ¤λ‚ ν„μ¬ ν”„λ΅μ„Έμ¤λ¥Ό μΌμ‹μ μΌλ΅ μ¤‘μ§€ν•κ±°λ‚ μΆ…λ£ν•λ‹¤.
- μ΄μ μ²΄μ λ¥Ό μ¤‘μ§€ν•κ³  λ‹¤μμ— μν–‰ν•  μ‘μ—…μ„ νμ•…ν•΄μ•Ό ν•λ‹¤.
    - μ°μ„ μ μΌλ΅ μ²λ¦¬ν•΄μ•Ό ν•  μΌμ΄ λ°μƒν•μ€μ„ λ• κ·Έκ²ƒμ„ μ²λ¦¬ν•κ³  μ›λ λ™μ‘μΌλ΅ λμ•„μ¨λ‹¤.
- λ€λ¶€λ¶„μ I/O μ¥μΉμ—λ” ISR(Interrupt Service Rutine)μ΄λΌλ” λ²„μ¤ μ μ–΄ λΌμΈμ΄ μμΌλ©° μ΄λ¥Ό ν†µν•΄ μ„λΉ„μ¤λ‚ ν”„λ΅μ„Έμ¤λ¥Ό μ¤‘μ§€ λ° μΆ…λ£ν•λ” μ‘μ—…μ„ μ μ–΄ν•λ‹¤.
- μΈν„°λ½νΈ μ‹ νΈλ” κ³„νλ  μλ„(ν”„λ΅κ·Έλ¨μ— μν• μ”μ²­), κ³„νλμ§€ μ•μ„ μλ„(μ‹μ¤ν…μ—μ„ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅κ·Έλ¨κ³Ό κ΄€λ ¨λμ§€ μ•μ€ μ΄λ²¤νΈλ΅ μΈν•΄ λ°μƒ) μλ‹¤.
- μ¤λλ‚  κ±°μ λ¨λ“  μ»΄ν“¨ν… μ‹μ¤ν…μ€ μΈν„°λ½νΈ κΈ°λ°μΌλ΅ μ΄λ£¨μ–΄μ Έ μλ‹¤. μ»΄ν“¨ν… μ‹μ¤ν…μ€ ν”„λ΅κ·Έλ¨μ μ»΄ν“¨ν„° λ…λ Ήμ–΄ λ©λ΅μ„ λ”°λ¥΄κ³  λμ— λ„λ‹¬ν•κ±°λ‚ μΈν„°λ½νΈ μ‹ νΈλ¥Ό κ°μ§€ν•  λ•κΉμ§€ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ‹¤.
- μΈν„°λ½νΈ μ‹ νΈκ°€ κ°μ§€λλ©΄ μ»΄ν“¨ν„°λ” ν„μ¬ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰μ„ μ¬κ°ν•κ±°λ‚ λ‹¤λ¥Έ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰μ„ μ‹μ‘ν•λ‹¤. λ‘ κ²½μ° λ¨λ‘ λ‹¤μ μ‘μ—…μ„ κ²°μ •ν•λ” λ™μ• μ‘μ—…μ„ μ¤‘μ§€ν•΄μ•Ό ν•λ‹¤.
- μ¥μΉ ν”„λ΅μ„Έμ„λ” μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•  λ• IRQ(μΈν„°λ½νΈ μ”μ²­, Interrupt ReQuest)μ΄ μΈμ‹λμ—μμ„ μ‹ νΈλ¥Ό λ³΄λ‚΄λ” μ¥μΉμ— μ•λ¦°λ‹¤. κ·Έ λ’¤ μ¥μΉλ” IRQ μ‹ νΈ μ „μ†΅μ„ μ¤‘μ§€ν•λ‹¤.
- OSμ—λ” μΌλ°μ μΌλ΅ μΈν„°λ½νΈμ μ°μ„  μμ„λ¥Ό μ§€μ •ν•κ³  λ‘ μ΄μƒμ΄ μ²λ¦¬ λ€κΈ° μ¤‘μΈ κ²½μ° λ€queueμ— μ €μ¥ν•λ” Interrupt handler μ½”λ“κ°€ ν¬ν•¨λμ–΄ μλ‹¤. λν•, μ μ–΄ν•  λ‹¤μ ν”„λ΅κ·Έλ¨μ„ κ²°μ •ν•λ” scheduler ν”„λ΅κ·Έλ¨λ„ μλ‹¤.
- μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ κ΄€λ ¨ μ„λΉ„μ¤κ°€ μ¦‰μ‹ μ‹μ‘λμ§€ μ•μ„ μ μμΌλ©°, μΈν„°λ½νΈκ°€ λ°μƒν• μ‹κ°„κ³Ό ISR μ‹¤ν–‰μ΄ μ‹μ‘λλ” μ‹κ°„ μ‚¬μ΄μ κ°„κ²©μ„ μΈν„°λ½νΈ λ€κΈ° μ‹κ°„μ΄λΌκ³  ν•λ‹¤.
- μΌλ°μ μΌλ΅ λ‚΄λ¶€ μ¥μΉ λ° μ†ν”„νΈμ›¨μ–΄ ν”„λ΅κ·Έλ¨μ—μ„ λ°μƒν•λ” μΈν„°λ½νΈ μ‹ νΈλ¥Ό μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ, μ™Έλ¶€ μ¥μΉ λ° I/O μ¥μΉμ—μ„ λ°μƒν•λ” μΈν„°λ½νΈ μ‹ νΈμ™€ CPUμ— λ€ν• μΈν„°λ½νΈλ¥Ό ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλΌκ³  ν•λ‹¤.

<aside>
π’΅ **ISR(Interrupt Service Routine)** : λ¨λ“  μΈν„°λ½νΈλ§λ‹¤ ISRμ΄ μ΅΄μ¬ν•λ‹¤. κ° ISRμ μ£Όμ†λ” λ©”λ¨λ¦¬μ κ³ μ •λ μ„μΉμ— μ €μ¥λλ‹¤. ISRμ€ λΉ„λ™κΈ° μΈν„°λ½νΈλ¥Ό νΈμ¶ν•κ³  **Maskable Interrupts**μ™€ **Non-Maskable Interrupts**λ¥Ό λ¨λ‘ μ²λ¦¬ν•  μ μλ‹¤.
μ‹¤ν–‰ μ‹μ‘ μ‹ ISRμ€ λ‹¤λ¥Έ μ¥μΉ μΈν„°λ½νΈ μ„λΉ„μ¤λ¥Ό λΉ„ν™μ„±ν™”ν•λ‹¤. ISR μ‹¤ν–‰μ΄ μ™„λ£λ ν›„ μΈν„°λ½νΈ μ„λΉ„μ¤λ¥Ό λ‹¤μ‹ μ΄κΈ°ν™”ν•λ‹¤.
μ–΄λ–¤ μ†ν”„νΈμ›¨μ–΄λ‚ ν•λ“μ›¨μ–΄κ°€ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹μΌ°λ”μ§€ μ•μ•„λ‚΄κ³ , μ΄μ— λ€ν•΄ CPUμ— μ•λ¦¬λ” μ—­ν• μ„ λ‹΄λ‹Ήν•λ‹¤.

</aside>

# νΉμ§•

- μ¤λλ‚  κ±°μ λ¨λ“  μ»΄ν“¨ν… μ‹μ¤ν…μ€ μΈν„°λ½νΈ κΈ°λ°μ΄λ‹¤.
- μ¥μΉκ°€ ν”„λ΅μ„Έμ¤ iμ—μ„ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¤λ©΄ ν”„λ΅μ„Έμ„λ” λ¨Όμ € λ…λ Ή iμ μ‹¤ν–‰μ„ μ™„λ£ν•λ‹¤.
- κ·Έ λ‹¤μ, ISRμ μ²« λ²μ§Έ λ…λ Ήμ–΄ μ£Όμ†λ΅ ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°(PC)λ¥Ό λ΅λ“ν•λ‹¤.
- ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°μ— μ£Όμ†λ¥Ό λ΅λ“ν•κΈ° μ „μ— μ¤‘λ‹¨λ λ…λ Ήμ–΄μ μ£Όμ†κ°€ μ„μ‹ μ„μΉλ΅ μ΄λ™λλ‹¤.
- λ”°λΌμ„, μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν• ν›„ ν”„λ΅μ„Έμ„λ” ν”„λ΅μ„Έμ¤ i+1μ„ κ³„μ†ν•  μ μλ‹¤.
- ν”„λ΅μ„Έμ„λ” μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•λ” λ™μ• ν•΄λ‹Ή μ”μ²­μ΄ μΈμ‹λμ—μμ„ μ¥μΉμ— μ•λ ¤ μΈν„°λ½νΈ μ”μ²­ μ‹ νΈ μ „μ†΅μ„ μ¤‘μ§€ν•΄μ•Ό ν•λ‹¤.
- λ, λ‚μ¤‘μ— μ¤‘λ‹¨λ ν”„λ΅μ„Έμ¤λ¥Ό λ³µμ›ν•  μ μλ„λ΅ λ μ§€μ¤ν„°λ¥Ό μ €μ¥ν•λ©΄ μΈν„°λ½νΈκ°€ μμ‹ λ μ‹κ°„κ³Ό ISR μ‹¤ν–‰ μ‹μ‘ μ‚¬μ΄μ μ§€μ—°μ΄ λμ–΄λ‚λ‹¤. μ΄λ¥Ό **μΈν„°λ½νΈ λ€κΈ° μ‹κ°„**μ΄λΌκ³  ν•λ‹¤.
- λ‹¨μΌ μ»΄ν“¨ν„°λ” ν• λ²μ— ν•λ‚μ μ»΄ν“¨ν„° λ…λ Ήλ§ μν–‰ν•  μ μλ‹¤. κ·Έλ¬λ‚ μ¤‘λ‹¨λ  κ°€λ¥μ„±μ΄ μμΌλ―€λ΅ ν”„λ΅κ·Έλ¨μ΄λ‚ λ…λ Ή μ§‘ν•©μ΄ μν–‰λλ” λ°©μ‹μ„ κ΄€λ¦¬ν•  μ μλ‹¤. μ΄κ²ƒμ„ **λ©€ν‹°νƒμ¤ν‚Ή**μ΄λΌκ³  ν•λ‹¤.
    
    β†’ μ‚¬μ©μλ” λ‹¤μ–‘ν• μ‘μ—…μ„ λ™μ‹μ— μν–‰ν•  μ μμΌλ©° μ»΄ν“¨ν„°λ” μ‚¬μ©μκ°€ μ‹μ‘ν•λ” ν”„λ΅κ·Έλ¨μ„ κ΄€λ¦¬ν•κ² λλ‹¤. λ¬Όλ΅  μ»΄ν“¨ν„°λ” λ¨λ“  μ‚¬μ©μ μ‘μ—…μ΄ λ™μ‹μ— μν–‰λλ” κ²ƒμ²λΌ λ³΄μ΄κ² μ‘λ™λλ‹¤.
    
- μΈν„°λ½νΈ ν•Έλ“¤λ¬λ” μΈν„°λ½νΈμ μ°μ„ μμ„λ¥Ό μ§€μ •ν•κ³  λ‘ μ΄μƒμ΄ μ²λ¦¬ λ€κΈ° μ¤‘μΈ κ²½μ° νμ— μ €μ¥ν•λ‹¤.
- λ‹¤μμ— μ μ–΄ν•  ν”„λ΅κ·Έλ¨μ„ νμ•…ν•λ” **μ¤μΌ€μ¤„λ¬**λΌλ” ν”„λ΅κ·Έλ¨μ΄ μ΅΄μ¬ν•λ‹¤.

# Type of Interrupt

![Untitled](Interrupt/Untitled1.png)

### Hadware Interrupt

- ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ” OSμ μ£Όμκ°€ ν•„μ”ν•¨μ„ λ‚νƒ€λ‚΄λ” μ™Έλ¶€ ν•λ“μ›¨μ–΄ μ¥μΉμ μ „μ μ‹ νΈλ‹¤. μμ‹λ΅λ” ν‚¤λ³΄λ“λ¥Ό λ„λ¥΄κ±°λ‚ λ§μ°μ¤λ¥Ό μ›€μ§μ΄λ” ν–‰μ„κ°€ μλ‹¤. μ΄λ¬ν• μμ‹μ—μ„ ν”„λ΅μ„Έμ„λ” ν•΄λ‹Ή μκ°„μ— λ§μ°μ¤ μ„μΉλ‚ ν‚¤ μ…λ ¥μ„ μ½κΈ° μ„ν•΄ μ¤‘μ§€ν•΄μ•Ό ν•λ‹¤.
- ν•λ“μ›¨μ–΄ μΈν„°λ½νΈμ—μ„λ” λ¨λ“  μ¥μΉκ°€ IRL(Interrupt Request Line)μ— μ—°κ²°λλ‹¤. μΌλ°μ μΌλ΅ ν•λ“μ›¨μ–΄ IRQμ—λ” μ΄λ¥Ό νΉμ • μ¥μΉμ™€ μ—°κ²°ν•λ” κ°’μ΄ μλ‹¤. μ΄λ¥Ό ν†µν•΄ ν”„λ΅μ„Έμ„λ” IRQλ¥Ό λ†’μ—¬ μ–΄λ–¤ μ¥μΉκ°€ μ„λΉ„μ¤λ¥Ό μ”μ²­ν•λ”μ§€ ν™•μΈν• λ‹¤μ κ·Έμ— λ”°λΌ μ„λΉ„μ¤λ¥Ό μ κ³µν•  μ μλ‹¤.
- Timer, Keyboard μ…λ ¥, mouse μ…λ ¥, DMA λ“±
- μΈν„°λ½νΈλ”Β **μ‹μ¤ν… λ²„μ¤λ¥Ό ν†µν•΄ μ „λ‹¬**λλ‹¤.
- ν”„λ΅μ„Έμ„μ—λ” μΌλ°μ μΌλ΅ ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ¥Ό μ„ νƒμ μΌλ΅ ν™μ„±ν™” λ° λΉ„ν™μ„±ν™”ν•  μ μλ” λ‚΄λ¶€ μΈν„°λ½νΈ λ§μ¤ν¬ λ μ§€μ¤ν„°κ°€ μλ‹¤.

1. **Maskable interrupts**
    - CPUμ λ…λ Ήμ— μν•΄ λΉ„ ν™μ„±ν™”λκ±°λ‚ λ¬΄μ‹λ  μ μλ” ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ
    - ν”„λ΅μ„Έμ„μ—μ„ λ‚΄λ¶€ μΈν„°λ½νΈ λ§μ¤ν¬ λ μ§€μ¤ν„°λ” ν•λ“μ›¨μ–΄ μ”μ²­μ„ μ„ νƒμ μΌλ΅ ν™μ„±ν™” λ° λΉ„ ν™μ„±ν™”ν•λ‹¤. λ§μ¤ν¬ λΉ„νΈκ°€ μ„¤μ •λλ©΄ μΈν„°λ½νΈκ°€ ν™μ„±ν™”λλ©° λ§μ¤ν¬ λΉ„νΈκ°€ μ§€μ›μ§€λ©΄ λΉ„ ν™μ„±ν™”λλ‹¤. λ§μ¤ν¬μ μν–¥μ„ λ°›λ” μ‹ νΈλ” λ§μ¤ν¬ κ°€λ¥ν• μΈν„°λ½νΈλ‹¤.
    - μΌλ¶€ μ‹μ¤ν…μ—μ„λ” λΉ„νΈκ°€ μ„¤μ •λλ©΄ μΈν„°λ½νΈκ°€ ν™μ„±ν™”λκ³  λΉ„νΈκ°€ μ§€μ›μ§€λ©΄ λΉ„ν™μ„±ν™”λλ” λ°λ©΄, λ‹¤λ¥Έ μ‹μ¤ν…μ—μ„λ” μ„¤μ •λ λΉ„νΈκ°€ μΈν„°λ½νΈλ¥Ό λΉ„ν™μ„±ν™”ν•λ‹¤.Β μΈν„°λ½νΈκ°€ λΉ„ν™μ„±ν™”λλ©΄ ν”„λ΅μ„Έμ„λ” κ΄€λ ¨ μΈν„°λ½νΈ μ‹ νΈλ¥Ό λ¬΄μ‹ν•λ‹¤.Β λ§μ¤ν¬μ μν–¥μ„ λ°›λ” μ‹ νΈλ¥Ό ***λ§μ¤ν¬ κ°€λ¥ν• μΈν„°λ½νΈ***λΌκ³  ν•λ‹¤.
    - Interrupt Mask(μΈν„°λ½νΈκ°€ λ°μƒν•μ€μ„ λ• μ”κµ¬λ¥Ό λ°›μ•„λ“¤μΌμ§€ λ§μ§€ μ§€μ •ν•λ” κ²ƒ)κ°€ κ°€λ¥
    - μΈν…”CPU μ—μ„Β **INTR pin**μΌλ΅ μ‹ νΈκ°€ λ“¤μ–΄μ¨λ‹¤.
    
2. **Non-maskable interrupts**
    - CPU λ…λ Ήμ— μν•΄ λΉ„ ν™μ„±ν™”λκ±°λ‚ λ¬΄μ‹λ  μ μ—†λ” ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ
    - κ²½μ°μ— λ”°λΌ μΈν„°λ½νΈ λ§μ¤ν¬λ¥Ό λΉ„ ν™μ„±ν™”ν•  μ μ—†μΌλ―€λ΅ μΌλ¶€ μΈν„°λ½νΈ μ‹ νΈμ— μν–¥μ„ λ―ΈμΉμ§€ μ•λ”λ‹¤.
    - λ§μ¤ν¬ν•  μ μ—†λ” μΈν„°λ½νΈμ΄λ©° μΌλ°μ μΌλ΅ λ¬΄μ‹ν•  μ μ—†λ” μ°μ„ μμ„κ°€ λ†’μ€ μ΄λ²¤νΈλ‹¤.
    - μΈν„°λ½νΈ λ§μ¤ν¬λ” μΌλ¶€ μΈν„°λ½νΈ μ‹ νΈμ— μν–¥μ„ λ―ΈμΉμ§€ μ•μΌλ―€λ΅ λΉ„ν™μ„±ν™”ν•  μ μ—†λ‹¤.Β ***μ΄λ¥Ό λ§μ¤ν¬ λ¶κ°€λ¥ μΈν„°λ½νΈ***Β λΌκ³  ν•λ‹¤.Β NMIλ” μ¦‰μ‹ μ²λ¦¬ν•΄μ•Ό ν•κ³  κ°μ‹ νƒ€μ΄λ¨Έμ μ‹κ°„ μ΄κ³Ό μ‹ νΈμ™€ κ°™μ΄ μ–΄λ–¤ μƒν™©μ—μ„λ„ λ¬΄μ‹ν•  μ μ—†λ” μ°μ„  μμ„κ°€ λ†’μ€ μ΄λ²¤νΈλ¥Ό λ‚νƒ€λ‚Έλ‹¤.Β ***μΈν„°λ½νΈλ¥Ό λ§μ¤ν¬ν•λ”*** κ²ƒμ€Β λΉ„ν™μ„±ν™”ν•λ” κ²ƒμ΄κ³ ,Β μΈν„°λ½νΈλ¥ΌΒ ***λ§μ¤ν¬ ν•΄μ ν•λ” κ²ƒμ€ ν™μ„±ν™”ν•λ” κ²ƒμ΄λ‹¤.***
    - Maskκ°€ λ¶κ°€λ¥
    - κ±°λ¶€, λ¬΄μ‹ν•  μ μ—†μ (λ§¤μ° μ¤‘μ”ν•¨)
    - μ •μ „, ν•λ“μ›¨μ–΄ κ³ μ¥ λ“± μ–΄μ©” μ μ—†λ” μ¤λ¥
    - μΈν…” CPUμ—μ„Β **NMI pin**μΌλ΅ μ‹ νΈκ°€ λ“¤μ–΄μ΄
    
3. **Spurious interrupts**
    - phantom interrupt, ghost interruptλ΅λ„ μ•λ ¤μ§„ μΈν„°λ½νΈλ΅, κ°€μ§(Spurious) μΈν„°λ½νΈλ” μ†μ¤λ¥Ό μ°Ύμ„ μ μ—†λ” ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ μ ν•μ΄λ‹¤. κ°€μ§ μΈν„°λ½νΈλ” μ‹μ¤ν…μ΄ μ¤μ‘λ™ ν•λ”μ§€ μ‹λ³„ν•κΈ° μ–΄λ ¤μ°λ©°, ISRμ΄ κ°€μ§ μΈν„°λ½νΈ κ°€λ¥μ„±μ„ κ³ λ ¤ν•μ§€ μ•μΌλ©΄ μ‹μ¤ν… κµμ°© μƒνƒκ°€ λ°μƒν•  μ μλ‹¤.
    - λ λ²¨ κ°μ§€ ν”„λ΅μ„Έμ„ μ…λ ¥μ— μ—°κ²°λ μ μ„  OR μΈν„°λ½νΈ νλ΅μ—μ„ λ¬Έμ κ°€ λλ” κ²½ν–¥μ΄ μλ‹¤.
    - μ†μ¤λ¥Ό μ°Ύμ„ μ μ—†λ” ν•λ“μ›¨μ–΄ μΈν„°λ½νΈμ΄λ‹¤.Β μ΄ ν„μƒμ„ μ„¤λ…ν•κΈ° μ„ν•΄ ν¬ν…€ μΈν„°λ½νΈ λλ” κ³ μ¤νΈ μΈν„°λ½νΈλΌλ” μ©μ–΄λ„ μ‚¬μ©ν•  μ μλ‹¤.Β μ¤ν“¨λ¦¬μ–΄μ¤ μΈν„°λ½νΈλ” λ λ²¨ κ°μ§€ ν”„λ΅μ„Έμ„ μ…λ ¥μ— μ—°κ²°λ μ μ„  OR μΈν„°λ½νΈ νλ΅μ—μ„ λ¬Έμ κ°€ λλ” κ²½ν–¥μ΄ μλ‹¤.Β μ΄λ¬ν• μΈν„°λ½νΈλ” μ‹μ¤ν…μ΄ μ¤μ‘λ™ν•  λ• μ‹λ³„ν•κΈ° μ–΄λ ¤μΈ μ μλ‹¤.
    - Wired-OR νλ΅μ—μ„λ” μΈν„°λ½νΈ λΌμΈμ λ°”μ΄μ–΄μ¤ μ €ν•­μ„ ν†µν• κΈ°μƒ μ©λ‰ μ¶©μ „/λ°©μ „μΌλ΅ μΈν•΄ ν”„λ΅μ„Έμ„κ°€ μΈν„°λ½νΈ μ†μ¤κ°€ μ‚­μ λμ—μμ„ μΈμ‹ν•κΈ° μ „μ— μ•½κ°„μ μ§€μ—°μ΄ λ°μƒν•λ‹¤.Β μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR)μ—μ„ μΈν„°λ½νΈ μ¥μΉκ°€ λ„λ¬΄ λ¦κ² ν΄λ¦¬μ–΄λλ©΄ ν„μ¬ ISR μΈμ¤ν„΄μ¤κ°€ μΆ…λ£λκΈ° μ „μ— μΈν„°λ½νΈ νλ΅κ°€ μ •μ§€ μƒνƒλ΅ λμ•„κ° μ‹κ°„μ΄ μ¶©λ¶„ν•μ§€ μ•λ‹¤.Β κ·Έ κ²°κ³Ό ν”„λ΅μ„Έμ„λ” μΈν„°λ½νΈ μ”μ²­ μ…λ ¥μ μ „μ••μ΄ λ…ν™•ν• λ‚΄λ¶€ λ…Όλ¦¬ 1 λλ” λ…Όλ¦¬ 0μ„ μ„¤μ •ν•  λ§νΌ λ†’κ±°λ‚ λ‚®μ§€ μ•κΈ° λ•λ¬Έμ— λ‹¤λ¥Έ μΈν„°λ½νΈκ°€ λ³΄λ¥ μ¤‘μ΄λΌκ³  μƒκ°ν•κ² λλ‹¤.
    - ISRμ΄ μ΄λ¬ν• μΈν„°λ½νΈ λ°μƒ κ°€λ¥μ„±μ„ κ³ λ ¤ν•μ§€ μ•λ” κ²½μ° κ°€μ§ μΈν„°λ½νΈλ΅ μΈν•΄ μ‹μ¤ν… κµμ°© μƒνƒ λλ” κΈ°νƒ€ μ •μλμ§€ μ•μ€ μ‘μ—…μ΄ λ°μƒν•  μ μλ‹¤.Β κ°€μ§ μΈν„°λ½νΈλ” λ€λ¶€λ¶„ μ μ„  OR μΈν„°λ½νΈ νλ΅μ λ¬Έμ μ΄λ―€λ΅ μ΄λ¬ν• μ‹μ¤ν…μ—μ„ μΆ‹μ€ ν”„λ΅κ·Έλλ° λ°©λ²•μ€ ISRμ΄ λ¨λ“  μΈν„°λ½νΈ μ†μ¤μ ν™λ™μ„ ν™•μΈν•κ³  μ†μ¤ μ¤‘ μ–΄λ κ²ƒλ„ μΈν„°λ½νΈν•μ§€ μ•μΌλ©΄ μ΅°μΉλ¥Ό μ·¨ν•μ§€ μ•λ” κ²ƒμ΄λ‹¤.
    

<aside>
π’΅ ***ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ μΆ…λ¥***

- μ…μ¶λ ¥ μΈν„°λ½νΈ (I/O interrupt) - μ…μ¶λ ¥ μ‘μ—…μ μΆ…λ£λ‚ μ…μ¶λ ¥ μ¤λ¥μ— μν•΄ CPUμ κΈ°λ¥μ΄ μ”μ²­λ¨
- μ •μ „,μ „μ› μ΄μƒ μΈν„°λ½νΈ(Power fail interrupt) - μ „μ› κ³µκΈ‰μ μ΄μƒ
- κΈ°κ³„ μ°©μ¤ μΈν„°λ½νΈ(Machine check interrupt) - CPUμ κΈ°λ¥μ μΈ μ¤λ¥
- μ™Έλ¶€ μ‹ νΈ μΈν„°λ½νΈ(External interrupt) - I/O μ¥μΉκ°€ μ•„λ‹ μ¤νΌλ μ΄ν„°λ‚ νƒ€μ΄λ¨Έμ— μν•΄ μλ„μ μΌλ΅ ν”„λ΅κ·Έλ¨μ΄ μ¤‘λ‹¨λ κ²½μ°
</aside>

### Software Interrupt

![ν”„λ΅μ„Έμ¤κ°€ fork() μ‹μ¤ν… νΈμ¶μ„ μ‹¤ν–‰ν•  λ• μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈμΈ μΈν„°λ½νΈκ°€ μƒμ„±λκ³  μ΄ μΈν„°λ½νΈλ” ISRμ— μν•΄ μ²λ¦¬λλ‹¤. μΌλ‹¨ μΈν„°λ½νΈ μ”μ²­μ΄ μ„λΉ„μ¤λλ©΄ μ μ–΄λ” λ‹¤μ‹ μ „λ‹¬λλ‹¤.](Interrupt/Untitled2.png)

ν”„λ΅μ„Έμ¤κ°€ fork() μ‹μ¤ν… νΈμ¶μ„ μ‹¤ν–‰ν•  λ• μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈμΈ μΈν„°λ½νΈκ°€ μƒμ„±λκ³  μ΄ μΈν„°λ½νΈλ” ISRμ— μν•΄ μ²λ¦¬λλ‹¤. μΌλ‹¨ μΈν„°λ½νΈ μ”μ²­μ΄ μ„λΉ„μ¤λλ©΄ μ μ–΄λ” λ‹¤μ‹ μ „λ‹¬λλ‹¤.

- μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ” μ‘μ© ν”„λ΅κ·Έλ¨μ΄ μΆ…λ£λκ±°λ‚ OSμ νΉμ • μ„λΉ„μ¤λ¥Ό μ”μ²­ν•  λ• λ°μƒν•λ‹¤.
- μΌλ°μ μΌλ΅ ν”„λ΅μ„Έμ„λ” νΉμ • μ΅°κ±΄μ΄ μ¶©μ΅±λλ©΄ νΉμ λ…λ Ήμ„ μ‹¤ν–‰ν•μ—¬ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ¥Ό μ”μ²­ν•λ‹¤. μ΄ λ…λ Ήμ–΄λ” μΈν„°λ½νΈλ¥Ό νΈμ¶ν•κ³  μ„λΈλ£¨ν‹΄ νΈμ¶κ³Ό κ°™μ€ κΈ°λ¥μ„ ν•λ‹¤.
- μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ” μ‹μ¤ν…μ΄ μ¥μΉ λ“λΌμ΄λ²„μ™€ μƒνΈ μ‘μ©ν•κ±°λ‚ ν”„λ΅κ·Έλ¨μ΄ OS μ„λΉ„μ¤λ¥Ό μ”μ²­ν•  λ• μΌλ°μ μΌλ΅ μ‚¬μ©λλ‹¤.
- μ–΄λ–¤ κ²½μ°μ—λ” μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈκ°€ μλ„ν• κ²ƒμ΄ μ•„λ‹ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤λ¥λ΅ μΈν•΄ μκΈ°μΉ μ•κ² λ°μƒν•  μ μλ‹¤. μ΄λ¥Ό exceptionsλ‚ trapsλΌκ³  ν•λ‹¤.
- 0μΌλ΅ λ‚λ„λ©΄ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¤λ” λ°λ©΄, fork() μ‹μ¤ν… νΈμ¶μ„ μ‚¬μ©ν•λ” λ™μ• fork()λ„ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ¥Ό νΈμ¶ν•λ‹¤.
- CPUλ‚΄λ¶€μ—μ„ μμ‹ μ΄ μ‹¤ν–‰ν• λ…λ Ήμ΄λ‚ CPUμ λ…λ Ή μ‹¤ν–‰μ— κ΄€λ ¨λ λ¨λ“μ΄ λ³€ν™”ν•λ” κ²½μ° λ°μƒν•λ‹¤.
- ν”„λ΅μ„Έμ„λ” νΉμ • λ…λ Ήμ„ μ‹¤ν–‰ν•κ±°λ‚ νΉμ • μ΅°κ±΄μ΄ μ¶©μ΅±λ  λ• μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ¥Ό μ”μ²­ν•λ‹¤.Β λ¨λ“  μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ μ‹ νΈλ” νΉμ • μΈν„°λ½νΈ ν•Έλ“¤λ¬μ™€ μ—°κ΄€λμ–΄ μλ‹¤.
- μλ„μ μΌλ΅ μ‹¤ν–‰λ  λ• μΈν„°λ½νΈλ¥Ό νΈμ¶ν•λ” νΉμ λ…λ Ήμ„ μ‹¤ν–‰ν•λ©΄ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈκ°€ μλ„μ μΌλ΅ λ°μƒν•  μ μλ‹¤.Β μ΄λ¬ν• λ…λ Ήμ–΄λ” μ„λΈλ£¨ν‹΄ νΈμ¶κ³Ό μ μ‚¬ν•κ² μ‘λ™ν•λ©° μ΄μ μ²΄μ  μ„λΉ„μ¤ μ”μ²­ λ° μ¥μΉ λ“λΌμ΄λ²„μ™€μ μƒνΈ μ‘μ©κ³Ό κ°™μ€ λ‹¤μ–‘ν• λ©μ μΌλ΅ μ‚¬μ©λλ‹¤.
- **system call**λ΅μ¨ κµ¬ν„λ  μ μλ‹¤.
- ν”„λ΅κ·Έλ¨μ΄ λλ‹¤κ°€ μΈν„°λ½νΈ λ°μƒ μ‹ λ°μƒ μ „μ— μ‹¤ν–‰ μ¤‘μΈ κ·Έ μ •λ³΄λ¥Ό μ €μ¥ν•κ³  μμ–΄μ•Ό(μ¤νƒ μμ—­μ—) λ‹¤μμ— λ‹¤μ‹ λμ•„μ™€μ„ μ΄μ „ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•  μ μλ‹¤.

<aside>
π’΅ ***μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ μΆ…λ¥***

- ν”„λ΅κ·Έλ¨ κ²€μ‚¬ μΈν„°λ½νΈ (Program check interrupt)
- 0μΌλ΅ λ‚λ„λ” κ²½μ°
- OverFlow/UnderFlow
- νμ΄μ§€ λ¶€μ¬
- λ¶€λ‹Ήν• κΈ°μ–µμ¥μ†μ μ°Έμ΅°
- SVC(Supervisor Call: κ°μ‹ν”„λ΅κ·Έλ¨ νΈμ¶)μΈν„°λ½νΈ
- μ‚¬μ©μκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰μ‹ν‚¤κ±°λ‚ supervisiorμ„ νΈμ¶ν•λ” λ™μ‘μ„ μν–‰ν•λ” κ²½μ°
- ν”„λ΅κ·Έλλ¨Έμ— μν•΄ μ½”λ“λ΅ μ§μΈ κ°μ‹ ν”„λ΅κ·Έλ¨μ„ νΈμ¶ν•λ” λ°©μ‹
</aside>

# Polling

- ν΄λ§(Polling)μ€ μ»΄ν“¨ν„° μ‹μ¤ν…μ λ§μ΄ν¬λ΅ μ»¨νΈλ΅¤λ¬κ°€ λ¨λ“  μ¥μΉμ μƒνƒλ¥Ό μ§€μ†μ μΌλ΅ ν™•μΈν•λ” μ§€μ†μ μΈ λ¨λ‹ν„°λ§ μƒνƒμ΄λ‹¤.
- μ¦‰, κΈ°λ³Έμ μΌλ΅ CPUκ°€ I/O μ¥μΉλ¥Ό μ„λΉ„μ¤ν•λ” ν”„λ΅ν† μ½μ΄λ‹¤.
- μΈν„°λ½νΈμ™€ ν΄λ§ λ¨λ‘μ—μ„ CPUλ” μν–‰ μ¤‘μΈ μ‘μ—…μ„ μΌμ‹ μ¤‘μ§€ν•κ³  ν•„μ μ‘μ—…μ„ μ‹¤ν–‰ν•λ„λ΅ ν•λ‹¤.
- IRQ λΉ„νΈλ¥Ό λ§λ‚ μ²« λ²μ§Έ μ¥μΉκ°€ λ¨Όμ € μ„λΉ„μ¤λ¥Ό λ°›κ³  ν•΄λ‹Ή μ¥μΉλ¥Ό μ„λΉ„μ¤ν•κΈ° μ„ν•΄ μ μ ν• ISR(Insterrupt Service Routine)μ΄ νΈμ¶λλ‹¤.
- λ§μ΄ν¬λ΅ μ»¨νΈλ΅¤λ¬λ” ν΄λ§μ— λ¨λ“  μ²λ¦¬ μ‹κ°„μ„ μ‚¬μ©ν•κΈ°μ— λ™μ‹ μ‘μ—…μ„ μν–‰ν•  μ μ—†λ‹¤. λν• λ¨λ“  μ¥μΉμ IRQ λΉ„νΈλ¥Ό μ΅°μ‚¬ν•λ” λ° λ§μ€ μ‹κ°„μ΄ λ‚­λΉ„λλ‹¤.
- κ²°κ³Όμ μΌλ΅ CPU μ‹κ°„μ λ€λ¶€λ¶„μ΄ λ¶ν•„μ”ν• ν΄λ§μ— λ‚­λΉ„λκ² λλ―€λ΅ λΉ„ν¨μ¨μ μΈ λ°©λ²•μ΄λ‹¤.
- μΈν„°λ½νΈλ¥Ό μ‚¬μ©ν•¨μΌλ΅μ„ μ»¨νΈλ΅¤λ¬κ°€ μ¥μΉ μƒνƒλ¥Ό μ •κΈ°μ μΌλ΅ λ¨λ‹ν„°λ§ ν•  ν•„μ”κ°€ μ—†μ–΄μ§€λ©°, μΈν„°λ½νΈκ°€ λ°μƒν•  λ•λ§ μ‘λ‹µν•λ„λ΅ ν•  μ μλ‹¤.
- μ¦‰ μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ μ»¨νΈλ΅¤λ¬μ— μ„λΉ„μ¤κ°€ ν•„μ”ν•λ‹¤λ” μ•λ¦Όμ΄ μ „λ‹¬λλ‹¤.

# Difference between interrupt and polling

| Interrupt | Polling |
| --- | --- |
| μΈν„°λ½νΈλ” CPUμ— μ£Όμκ°€ ν•„μ”ν•λ‹¤λ” μ•λ¦Όμ„ λ³΄λ‚΄λ” ν”„λ΅μ„Έμ¤λ‹¤. | ν΄λ§μ€ CPUκ°€ μ¥μΉμ μƒνƒλ¥Ό μ§€μ†μ μΌλ΅ ν™•μΈν•μ—¬ CPUμ μ£Όμκ°€ ν•„μ”ν•μ§€ ν™•μΈν•λ” ν”„λ΅μ„Έμ¤λ‹¤. |
| ν•λ“μ›¨μ–΄ λ©”μ»¤λ‹μ¦μΌλ΅ κ°„μ£Όλλ‹¤. | ν”„λ΅ν† μ½μ΄λ‹¤. |
| μΈν„°λ½νΈ ν•Έλ“¤λ¬λ” μ¥μΉλ¥Ό μ„λΉ„μ¤ν•κ³  μ¥μΉμ™€ ν•¨κ» μ‘λ™ν•λ‹¤ | CPUκ°€ μ¥μΉμ— μ„λΉ„μ¤λ¥Ό μ κ³µν•λ‹¤. |
| μΈν„°λ½νΈ μ”μ²­ λΌμΈμΌλ΅ μ¥μΉμ— μ„λΉ„μ¤κ°€ ν•„μ”ν•¨μ„ λ‚νƒ€λ‚Έλ‹¤. | λ…λ Ή μ¤€λΉ„ λΉ„νΈλ΅ μ¥μΉμ— μ„λΉ„μ¤κ°€ ν•„μ”ν•¨μ„ λ‚νƒ€λ‚Έλ‹¤. |
| CPUλ” μ¥μΉμ— μ„λΉ„μ¤κ°€ ν•„μ”ν•  λ•λ§ μ‚¬μ©λλ‹¤. | CPUλ” μ¥μΉμ— μ„λΉ„μ¤κ°€ ν•„μ”ν•μ§€ κΈ°λ‹¤λ¦¬κ³  ν™•μΈν•΄μ•Ό ν•λ‹¤ |
| μΈν„°λ½νΈλ” CPU μ‚¬μ΄ν΄μ„ μ μ•½ν•λ‹¤ | ν΄λ§μ€ λ§μ€ CPU μ£ΌκΈ°λ¥Ό λ‚­λΉ„ν•λ‹¤ |
| μΈν„°λ½νΈλ” μ–Έμ λ“ μ§€ λ°μƒν•  μ μλ‹¤. | CPUλ” μΌμ •ν• μ‹κ°„ κ°„κ²©μΌλ΅ μ¥μΉλ¥Ό ν΄λ§ν•λ‹¤ |
| μ¥μΉκ°€ CPUλ¥Ό μμ£Ό μ¤‘λ‹¨ν•λ©΄ λΉ„ν¨μ¨μ μ΄κ² λλ‹¤. | CPUκ°€ μ„λΉ„μ¤ν•  μ¤€λΉ„κ°€ λ μ¥μΉλ¥Ό κ±°μ μ°Ύμ§€ λ»ν•λ©΄ ν΄λ§μ΄ λΉ„ν¨μ¨μ μ΄ λλ‹¤.  |

# IRQ(Interrupt Request)

- μΈν„°λ½νΈ μ”κµ¬ λΌμΈ(Interrupt Request Line)μ„ μλ―Έν•λ‹¤. μ»΄ν“¨ν„° ν”„λ΅μ„Έμ¤μ—μ„ μ „μ†΅λλ” μΈν„°λ½νΈμ λΌμΈμ΄λ‹¤.
- IRQλ” μ—¬λ¬ μ¥μΉκ°€ μ»΄ν“¨ν„°μ— μ—°κ²°λμ–΄ μλ” κ²½μ° μ¤‘μ”ν•λ‹¤.
- μ»΄ν“¨ν„°μ— μ—°κ²°λ λ¨λ“  μ¥μΉλ” κ³ μ ν• λ°μ΄ν„° νμ„ μ€ μ±„λ„μ„ ν†µν•΄ IRQμ™€ ν†µμ‹ ν•λ‹¤. μ—¬κΈ°μ—λ” λ””μ¤ν¬ λ“λΌμ΄λΈ μ»¨νΈλ΅¤λ¬, μ‚¬μ΄λ“ μΉ΄λ“, ν”„λ¦°ν„°, ν‚¤λ³΄λ“ λ° λ§μ°μ¤κ°€ ν¬ν•¨λλ‹¤.
- IRQκ°€ μ°Έμ΅°λ  λ•λ§λ‹¤ IRQ λ²νΈλΌκ³ λ„ ν•λ” μ±„λ„ λ²νΈμ™€ ν•¨κ» λ°μƒν•λ‹¤. κ° μ¥μΉμ—λ” κ³ μ ν• IRQ λ²νΈκ°€ ν• λ‹Ήλλ‹¤.
- μ¥μΉμ— μ…λ ¥μ„ μ κ³µν•κ±°λ‚ νΉμ • μ‘μ—…μ„ μ‹μ‘ν•λ ¤λ©΄ κ³ μ ν• IRQ λ²νΈκ°€ ν•„μ”ν•λ‹¤. IRQ λ²νΈλ¥Ό ν†µν•΄ λ‹¤μ–‘ν• μ¥μΉμ— μ°μ„ μμ„λ¥Ό ν• λ‹Ήν•λ©° μ μ ν• CPU μ‘λ‹µμ„ μ΄‰μ§„ν•λ‹¤.
- IRQ λ²νΈκ°€ λ‚®μ„μλ΅ μ…λ ¥μ΄λ‚ μ‘μ—…μ ν•„μ”μ„±μ΄ λ” μ¤‘μ”ν•΄μ§„λ‹¤. λ‹¤μμ€ PCμ— λ€ν• μΌλ°μ μΈ IRQ ν• λ‹Ή
    
    
    | IRQ# | μ¥μΉ |
    | --- | --- |
    | 0 | μ‹μ¤ν… νƒ€μ΄λ¨Έ |
    | 1 | ν‚¤λ³΄λ“(PS/2) |
    | 2 | IRQ 9μ μΊμ¤μΌ€μ΄λ“ |
    | 3 | COM ν¬νΈ 2, 4 |
    | 4 | COM ν¬νΈ 1, 3 |
    | 5 | λ³‘λ ¬(ν”„λ¦°ν„°) ν¬νΈ 2 λλ” μ‚¬μ΄λ“ μΉ΄λ“ |
    | 6 | ν”λ΅ν”Ό λ“λΌμ΄λΈ μ»¨νΈλ΅¤λ¬ |
    | 7 | λ³‘λ ¬(ν”„λ¦°ν„°) ν¬νΈ 1 |
    | 8 | μ‹¤μ‹κ°„ μ‹κ³„ |
    | 9 | λ™μμƒ |
    | 10 | Open |
    | 11 | Open |
    | 12 | λ§μ°μ¤(PS/2) |
    | 13 | λ³΄μ΅° ν”„λ΅μ„Έμ„ |
    | 14 | κΈ°λ³Έ IDE μ»¨νΈλ΅¤λ¬(ν•λ“ λ“λΌμ΄λΈ) |
    | 15 | λ³΄μ΅° IDE μ»¨νΈλ΅¤λ¬(ν•λ“ λ“λΌμ΄λΈ) |

# ISR(Interrupt Service Routine)

- μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄, μΈν„°λ½νΈ ν•Έλ“¤λ¬λ¥Ό μλ―Έν•λ‹¤. ν•λ“μ›¨μ–΄ μ¥μΉμ μΈν„°λ½νΈ μ”μ²­μ— μν•΄ νΈμ¶λλ” μ†ν”„νΈμ›¨μ–΄ ν”„λ΅μ„Έμ¤λ‹¤.
- μΈν„°λ½νΈκ°€ κ±Έλ¦¬κ³  μ •ν•΄μ§„ λ‚΄μ©μ„ μ²λ¦¬ν•λ” κ³Όμ •μ΄ μΈν„°λ½νΈ μ„λΉ„μ¤, λ§λ“¤μ–΄μ§„ λ‚΄μ©(ν•¨μ)λ¥Ό μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ΄λΌκ³  ν•λ‹¤.
- ISRμ€ μΈν„°λ½νΈλ¥Ό κ²€μ‚¬ν•κ³ , μ²λ¦¬ν•λ” λ°©λ²•μ„ κ²°μ •ν•κ³ , μ‹¤ν–‰ν•κ³ , λ…Όλ¦¬μ μΈ μΈν„°λ½νΈ κ°’μ„ CPUλ΅ λ°ν™ν•μ—¬ ν™μ„± ν”„λ΅μ„Έμ¤λ¥Ό μ¤‘λ‹¨ν•λ‹¤. ISRμ΄ μ™„λ£λλ©΄ ν”„λ΅μ„Έμ¤κ°€ μ¬κ°λλ‹¤.
- ISRμ€ λ°μ΄ν„°λ¥Ό CPU λ μ§€μ¤ν„°λ‚ ν•λ“μ›¨μ–΄ ν¬νΈμ—μ„ λ©”λ¨λ¦¬ λ²„νΌλ΅ μ΄λ™ν•  μ μμ§€λ§ μΌλ°μ μΌλ΅ IST(Interrupt Service Thread)λΌκ³  ν•λ” μ „μ© μΈν„°λ½νΈ μ¤λ λ“(λλ” μ‘μ—…)λ¥Ό μ‚¬μ©ν•μ—¬ ν•„μ”ν• λ€λ¶€λ¶„μ μ²λ¦¬λ¥Ό μν–‰ν•λ‹¤.
- λ¨λ“  μΈν„°λ½νΈμ—λ” μ‹¤ν–‰ν•  ISRμ΄ ν•λ‚λ§ μμΌλ©° μ΄ Contextμ—μ„ μ‹¤ν–‰λλ” μ½”λ“λ” μ°¨λ‹¨λ  μ μ—†κΈ°μ— ISRμ μ‹¤ν–‰μ€ μ›μμ μ΄λ‹¤. ν”„λ΅μ„Έμ„κ°€ μΈν„°λ½νΈλ¥Ό μμ‹ ν•λ©΄ μ μ–΄κ°€ ISRλ΅ μ „ν™λλ‹¤.
- ISR μ‹¤ν–‰μ΄ μ™„λ£λ ν›„ μ μ–΄λ” μ¤‘λ‹¨λ ν”„λ΅κ·Έλ¨μΌλ΅ λμ•„κ°„λ‹¤. κΈ°μ μ μΌλ΅ μΈμλ” ISRμ— μ „λ‹¬λμ§€ μ•μΌλ©° μ•„λ¬΄κ²ƒλ„ λ°ν™ν•μ§€ μ•λ”λ‹¤.

# Mechanism of Interrupt Handling

![Untitled](Interrupt/Untitled3.png)

- μΈν„°λ½νΈμ κΈ°λ³Έμ€ I/O μ¥μΉλ¥Ό λ„λ¥Ό λ•λ§λ‹¤ CPUκ°€ ν™•μΈν•λ” κ²ƒμ΄ μ•„λ‹, I/O μ¥μΉκ°€ CPUλ¥Ό μ¤‘λ‹¨μ‹ν‚¤λ” κ²ƒμ— μλ‹¤.
- I/O μ¥μΉλ” $\overline{INTR}$ μ‹ νΈλ¥Ό CPUμ— λ³΄λ‚΄ μΈν„°λ½νΈλ¥Ό μ”μ²­ν•λ‹¤
- CPUλ” $\overline{INTR}$ μ‹ νΈλ¥Ό μμ‹ ν•  λ•λ§λ‹¤ ν„μ¬ λ…λ Ήμ–΄μ μ‹¤ν–‰μ„ μ™„λ£ν• λ‹¤μ ISRμ„ μ‹¤ν–‰ν•λ‹¤. CPUκ°€ μ¤€λΉ„λλ©΄ INTA λΌμΈμ„ ν†µν•΄ μΉμΈ μ‹ νΈλ¥Ό λ³΄λ‚Έλ‹¤
- ISRμ΄ μ‹¤ν–‰λκ³  CPUλ” κΈ°λ³Έ ν”„λ΅κ·Έλ¨μΌλ΅ λμ•„κ°„λ‹¤
- I/O μ¥μΉλ” μ‹¤ν–‰ ν›„ $\overline{INTR}$ μ‹ νΈλ¥Ό λλ‹¤.
λ…λ Ήμ–΄ μ£ΌκΈ°κ°€ fetch, decode, execute and read/writeλ΅ λμ–΄ μλ‹¤.
- λ¨λ“  λ…λ Ή μ£ΌκΈ° ν›„μ— ν”„λ΅μ„Έμ„λ” μ²λ¦¬ν•  μΈν„°λ½νΈλ¥Ό ν™•μΈν•λ‹¤.
- μ‹μ¤ν…μ— μΈν„°λ½νΈκ°€ μ—†μΌλ©΄ λ…λ Ήμ–΄ λ μ§€μ¤ν„°μ—μ„ μ κ³µν•λ” λ‹¤μ λ…λ Ήμ–΄ μ£ΌκΈ°λ΅ μ΄λ™ν•λ‹¤.
- μΈν„°λ½νΈκ°€ μμΌλ©΄ μΈν„°λ½νΈ ν•Έλ“¤λ¬κ°€ νΈλ¦¬κ±°λλ‹¤.
- ν•Έλ“¤λ¬λ” μ²λ¦¬ μ¤‘μΈ ν„μ¬ λ…λ Ήμ–΄λ¥Ό μ¤‘μ§€ν•κ³  ν•΄λ‹Ή κµ¬μ„±μ„ λ μ§€μ¤ν„°μ— μ €μ¥ν•κ³  μΈν„°λ½νΈ λ²΅ν„° ν…μ΄λΈ”μ— μ§€μ •λ μ„μΉμ—μ„ μΈν„°λ½νΈμ ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°λ¥Ό λ΅λ“ν•λ‹¤.
- ν”„λ΅μ„Έμ„κ°€ μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν• ν›„ μΈν„°λ½νΈ ν•Έλ“¤λ¬λ” μ €μ¥λ λ μ§€μ¤ν„°μ—μ„ λ…λ Ήμ–΄μ™€ ν•΄λ‹Ή κµ¬μ„±μ„ λ΅λ“ν•λ‹¤.
1. **FLIH( First Level Interrupt Handler**Β )
- ν•λ“ μΈν„°λ½νΈ ν•Έλ“¤λ¬ λλ” λΉ λ¥Έ μΈν„°λ½νΈ ν•Έλ“¤λ¬.Β μ΄λ¬ν• μΈν„°λ½νΈ ν•Έλ“¤λ¬λ” ν”„λ΅μ„Έμ¤ μ‹¤ν–‰ μ¤‘μ— λ” λ§μ€ μ§€ν„°λ¥Ό κ°€μ§€λ©° μ£Όλ΅ λ§μ¤ν¬ κ°€λ¥ν• μΈν„°λ½νΈμ΄λ‹¤.
1. **SLIH( Second Level Interrupt HandlerΒ )**
- μ†ν”„νΈ μΈν„°λ½νΈ ν•Έλ“¤λ¬μ™€ λλ¦° μΈν„°λ½νΈ ν•Έλ“¤λ¬μ΄λ‹¤.Β μ΄λ¬ν• μΈν„°λ½νΈ ν•Έλ“¤λ¬λ” μ§€ν„°κ°€ μ λ‹¤.

<aside>
π’΅ **μ§€ν„°(Jitter)**

μ§€ν„°λ” κ³ μ£Όνμ λ””μ§€ν„Έ μ‹ νΈμ μ‹ νΈ ν„μ¤μ— λ€ν• νΈμ°¨ λλ” λ³€μ„.Β νΈμ°¨λ” μ§„ν­, μ„μƒ νƒ€μ΄λ° λλ” signal Pulse(μ‹ νΈ****Β μ§„ν­μ΄Β κΈ°μ¤€ κ°’μ—μ„ λ” λ†’κ±°λ‚ λ‚®μ€ κ°’μΌλ΅ κΈ‰κ²©ν•κ³  μΌμ‹μ μΌλ΅ λ³€κ²½λ ν›„ κΈ°μ¤€ κ°’μΌλ΅ λΉ λ¥΄κ² λμ•„κ°€λ” κ²ƒ) ν­μ— λ”°λΌ λ‹¬λΌμ§ μ μλ‹¤.

μ§€ν„°λ΅ μΈν•΄ λ””μ¤ν”λ μ΄ λ¨λ‹ν„°κ°€ κΉλ°•μ΄κ³ , λ°μ¤ν¬νƒ‘μ΄λ‚ μ„λ²„μ ν”„λ΅μ„Έμ„κ°€ μλ„ν• λ€λ΅ μ‘λ™ν•λ” λ¥λ ¥μ— μν–¥μ„ λ―ΈμΉκ³ , μ¤λ””μ¤ μ‹ νΈμ— ν΄λ¦­μ΄λ‚ κΈ°νƒ€ μ›μΉ μ•λ” ν¨κ³Όκ°€ λ°μƒν•κ³ ,Β λ„¤νΈμ›ν¬ μ¥μΉ κ°„μ—Β μ „μ†΅λ λ°μ΄ν„°κ°€ μ†μ‹¤λ  μ μλ‹¤. ν—μ©λλ” μ§€ν„°μ μ–‘μ€ μ• ν”λ¦¬μΌ€μ΄μ…μ— λ”°λΌ ν¬κ² λ‹¬λΌμ§„λ‹¤.

</aside>

# μΈν„°λ½νΈμ— λ€ν• CPUμ μ‘λ‹µ

- μ΄μ μ²΄μ μ μ‘λ™ λ°©μ‹μ„ μ΄ν•΄ν•λ” λ° μμ–΄ μ¤‘μ”ν• μ μ€ μΈν„°λ½νΈκ°€ λ°μƒν•  λ• CPUκ°€ μν–‰ν•λ” μ‘μ—…μ„ μ΄ν•΄ν•λ” κ²ƒμ΄λ‹¤.
- CPU ν•λ“μ›¨μ–΄λ” κ° μΈν„°λ½νΈμ— λ€ν•΄ λ™μΌν• μ‘μ—…μ„ μν–‰ν•μ—¬ μ΄μ μ²΄μ κ°€ ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ μ‚¬μ©μ ν”„λ΅μ„Έμ¤λ¥Ό μ μ–΄ν•  μ μλ„λ΅ ν•λ‹¤.
- OS μ»¤λ„μ—μ„ μ½”λ“λ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν•΄ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅μ„Έμ¤λ¥Ό μ „ν™ν•λ” κ²ƒμ„ **Context Switching**μ΄λΌκ³  ν•λ‹¤.
- μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•λ” λ™μ• λ‹¤μ λ‹¨κ³„κ°€ ν•„μ”ν•λ‹¤.
    1. μΈν„°λ½νΈ μ²λ¦¬μ™€ κ΄€λ ¨λ μ²« λ²μ§Έ λ‹¨κ³„λ” μΈν„°λ½νΈμ μ°μ„ μμ„λ¥Ό ν™•μΈν•λ” κ²ƒμ΄λ‹¤.
    2. ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅μ„Έμ¤μ— λΉ„ν•΄ μ°μ„ μμ„κ°€ λ‚®μ„ κ²½μ° μΈν„°λ½νΈκ°€ λ©”λ¨λ¦¬μ— μ €μ¥λλ‹¤.
    3. ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅μ„Έμ¤μ— λΉ„ν•΄ μ°μ„ μμ„κ°€ λ†’μΌλ©΄ CPUλ” ν„μ¬ ν”„λ΅μ„Έμ¤μ contextλ¥Ό μ €μ¥ν•λ‹¤.
    4. CPUλ” μΈν„°λ½νΈλ¥Ό νΈμ¶ν• μƒ ν”„λ΅μ„Έμ¤λ¥Ό λ΅λ“ν•κ³  μ΄λ¥Ό μ‹¤ν–‰ν•λ‹¤.
    5. μ”μ²­λ μ„λΉ„μ¤κ°€ μ™„λ£λλ©΄ CPUλ” μΈν„°λ½νΈ μ΄μ „μ— μ‹¤ν–‰ μ¤‘μ΄λ ν”„λ΅μ„Έμ¤λ¥Ό λ΅λ“ν•κ³  μ‹¤ν–‰μ΄ μ¤‘λ‹¨λ κ³³λ¶€ν„° μ‹¤ν–‰μ„ μ¬κ°ν•λ‹¤.

# μ°μ„ μμ„

![Untitled](Interrupt/Untitled4.png)

# μ²λ¦¬ κ³Όμ •

- μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¤κΈ° μ„ν•΄ ν•λ“μ›¨μ–΄/μ†ν”„νΈμ›¨μ–΄λ” cpuλ‚΄μ— μλ”Β `μΈν„°λ½νΈ λΌμΈ`μ„ μ„Έν…ν•μ—¬ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤.
- cpuλ” λ§¤λ² λ…λ Ήμ„ μν–‰ν•κΈ° μ „μ— μΈν„°λ½νΈ λΌμΈμ΄ μ„Έν…λμ–΄ μλ”μ§€λ¥Ό κ²€μ‚¬ν•λ‹¤.
- μ‹μ¤ν… μ½μ€ μ»¤λ„ μμ—­μ κΈ°λ¥μ„ μ‚¬μ©μ λ¨λ“κ°€ μ‚¬μ© κ°€λ¥ν•κ², μ¦‰ ν”„λ΅μ„Έμ¤κ°€ ν•λ“μ›¨μ–΄μ— μ§μ ‘ μ ‘κ·Όν•΄μ„ ν•„μ”ν• κΈ°λ¥μ„ μ‚¬μ©ν•  μ μκ² ν•΄μ¤€λ‹¤.

![https://i.imgur.com/MD4NrLz.png](https://i.imgur.com/MD4NrLz.png)

- μ„ κ·Έλ¦Όμ΄ μ‹μ‚¬ν•λ” λ°”λ” λ‹¤μκ³Ό κ°™λ‹¤. μ°μ„ , λ…λ Ήμ–΄ μ‚¬μ΄ν΄μ€Β `μΈμ¶(fetch stage)`κ³ΌΒ `μ‹¤ν–‰(execution stage)`Β λ‘ κ°€μ§€ λ‹¨κ³„λ¥Ό λ°λ³µν•΄μ„ μν–‰ν•λ‹¤. κ·Έλ°λ° μΈν„°λ½νΈ μ”μ²­μ΄ λ“¤μ–΄μ™”λ‹¤κ³  ν•΄μ„ λ°”λ΅ μ΄λ¥Ό μ²λ¦¬ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, λ…λ Ήμ–΄ NμΒ `μ‹¤ν–‰`Β λ‹¨κ³„λ¥Ό λ§μ³μ•Ό ν•λ‹¤.
- λ…λ Ήμ–΄μ μ‹¤ν–‰λ‹¨κ³„λ¥Ό λ§μΉ  λ•λ§λ‹¤ μ¤‘μ•™μ²λ¦¬μ¥μΉλ”Β `λ°λ³µμ μΌλ΅`Β μΈν„°λ½νΈ μ”μ²­μ΄ μλ”μ§€ κ³„μ†ν•΄μ„ ν™•μΈν•λ‹¤. μΈν„°λ½νΈ μ”μ²­μ΄ μμ–΄μ•Ό μΈν„°λ½νΈ μ„λΉ„μ¤ λ‹¨κ³„λ¥Ό μ§„ν–‰ν•λ‹¤.
- μΆ€ λ” ν° κ°λ…μΌλ΅ μ‚΄ν΄λ³Έλ‹¤λ©΄ μ•„λμ™€ κ°™μ€ κ·Έλ¦Όμ΄ λλ‹¤.

![https://i.imgur.com/sA0vHHB.png](https://i.imgur.com/sA0vHHB.png)

- λ£¨ν‹΄(routine)μ΄λΌλ” λ§μ€, μ΄λ™μ„ μμ—κ² λ°λ“μ‹ λ”°λΌλ‹¤λ‹λ” λ§μ΄κΈ°λ„ ν•λ°, λ°λ³µμ μΌλ΅ μν–‰ν•λ” μΌμ„ μλ―Έν•λ‹¤. μΈν„°λ½νΈ μ²λ¦¬κ³Όμ •μ—μ„ κ°€μ¥ ν•µμ‹¬μ μΈ λ‚΄μ©μ€Β `μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄`μ΄λ‹¤. μ¦‰, μ–΄λ–¤ μ†μ¤(source)κ°€ μΈν„°λ½νΈ μ”μ²­μ„ ν•λ©΄ λ°λ³µμ μΌλ΅ μν–‰ν•λ” μΌμ΄ μλ‹¤λ” λ»μ΄λ‹¤. λ‹¤λ¥Έ λ§λ΅Β `μΈν„°λ½νΈ ν•Έλ“¤λ¬`(interrupt handler)λΌκ³ λ„ ν•λ‹¤.

<aside>
π’΅ ***μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄Β Interrupt Service Routine(ISR)***

- μΈν„°λ½νΈ ν•Έλ“¤λ¬ Interrupt handler λΌκ³ λ„ ν•¨
- μΈν„°λ½νΈκ°€ μ ‘μλλ©΄ κ°κ°μ μΈν„°λ½νΈμ— λ€μ‘ν•μ—¬ νΉμ • κΈ°λ¥μ„ μ²λ¦¬ν•λ” κΈ°κ³„μ–΄ μ½”λ“ λ£¨ν‹΄(μ»¤λ„μ΄ μ‹¤ν–‰)
- ex) ν‚¤λ³΄λ“ μνμ„ λλ¬ ν‚¤λ³΄λ“ μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ μ΄μ— ν•΄λ‹Ήν•λ” μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ΄ μ‹¤ν–‰λ¨
</aside>

<aside>
π’΅ ***μΈν„°λ½νΈ λ²΅ν„°Β Interrupt Vector***

- μ—¬λ¬κ°€μ§€ μΈν„°λ½νΈμ— λ€ν•΄ ν•΄λ‹Ή μΈν„°λ½νΈ λ°μƒ μ‹ μ²λ¦¬ν•΄μ•Ό ν•  λ£¨ν‹΄(ISR)μ μ£Όμ†λ¥Ό λ³΄κ΄€ν•κ³  μλ” κ³µκ°„(λ°°μ—΄)
- λ€λ¶€λ¶„μ CPUλ“¤μ€ μΈν„°λ½νΈ λ²΅ν„° ν…μ΄λΈ”μ„ κ°€μ§€κ³  μμ
- μΈν…”x86μ—μ„λ” μ΄λ¥Ό IDT(Interrupt Descriptor Table)μ΄λΌκ³  ν•λ‹¤.
</aside>

<aside>
π’΅ ***IRET(Interrupt Return) λ…λ Ήμ–΄**
μ΄μ „ νƒμ¤ν¬λ΅ λ‹¤μ‹ λμ•„κ°€λ” μ–΄μ…λΈ”λ¦¬ λ…λ Ήμ–΄. ISRμ λ§μ§€λ§‰ λ…λ Ήμ–΄.*

</aside>

- μ†μ¤(source)λ§λ‹¤ μ²λ¦¬ν•΄λ‹¬λΌκ³  ν•λ” μΌμ€ μ„λ΅ λ‹¤λ¥΄λ‹¤. κ·Έλμ„ κΈ°μ–µμ¥μΉ μ–΄λ”κ°€μ— μ„λ΅ λ‹¤λ¥Έ μΌμ„ μ²λ¦¬ν•  μ μλ„λ΅ λ£¨ν‹΄λ“¤μ„ (κΈ°μ–µμ¥μΉμ—)μ €μ¥ν•΄λ‘μ—λ‹¤. μΈν„°λ½μ¤ μ„λΉ„μ¤ λ£¨ν‹΄ μ—­μ‹ κΈ°μ–µμ¥μΉ λ‚΄μ— μ €μ¥λμ–΄ μλ”Β `ν”„λ΅κ·Έλ¨(program)`μ΄λΌλ” μ μ΄λ‹¤.

![https://blog.kakaocdn.net/dn/csOicV/btrcebCFFGo/JOr4V3M4umegWKsqdtSV8K/img.jpg](https://blog.kakaocdn.net/dn/csOicV/btrcebCFFGo/JOr4V3M4umegWKsqdtSV8K/img.jpg)

# μμ‹

<aside>
π’΅ **μΈν„°λ½νΈ μ›μ²μΈ ν•λ“μ›¨μ–΄μ—μ„ λλ” μμ™Έμƒν™©μ΄ λ°μƒν•κ±°λ‚ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈκ°€ κ±Έλ¦¬λ©΄:**

(λ…λ Ήμ–΄ μ‹¤ν–‰λ‹¨κ³„λ¥Ό λ§μΉ  λ•λ§λ‹¤ μ¤‘μ•™μ²λ¦¬μ¥μΉλ” λ°λ³µμ μΌλ΅ μΈν„°λ½νΈ μ”μ²­μ΄ μλ”μ§€ ν™•μΈν•λ‹¤.)

1. ν„μ¬ μ§„ν–‰ μ¤‘μΈ κΈ°κ³„μ–΄ μ½”λ“λ¥Ό μ™„λ£ν•λ‹¤. (λ…λ Ήμ–΄ μ‚¬μ΄ν΄μΈ μΈμ¶κ³Ό μ‹¤ν–‰ λ‹¨κ³„λ¥Ό μΌλ‹¨ λ§μΉλ‹¤.)
2. CPUμ νΉμλ μ§€μ¤ν„° μ¤‘, ν•μ΄λ΅μΈν„°λ½νΈ λ§μ¤ν¬ λΉ„νΈλ¥Ό λ³΄κ³  λ§μ¤ν¬ λλ©΄ μΈν„°λ½νΈ λ¬΄μ‹ ν•λ‹¤.
3. μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ½κ³ 
4. **ISR(μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄, μΈν„°λ½νΈ ν•Έλ“¤λ¬)**μ£Όμ†κ°’μ„ μ–»λ”λ‹¤.
5. ISRλ΅ μ ν”„ ν•λ‹¤. μ΄λ•Β **PC(Program Counter, IP)**Β κ°’μ€ μλ™ λ€ν”Ό μ €μ¥λλ‹¤.
6. ν„μ¬ μ§„ν–‰μ¤‘μΈ ν”„λ΅κ·Έλ¨μ λ μ§€μ¤ν„°λ¥Ό λ€ν”Όν•λ‹¤.
7. ν•΄λ‹Ή μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ‹¤.
8. ν•΄λ‹Ή μΌμ„ λ‹¤ μ²λ¦¬ν•λ©΄, λ€ν”Όμ‹ν‚¨ λ μ§€μ¤ν„°λ¥Ό λ³µμ›ν•λ‹¤.
9. ISRμ λμ— IRET λ…λ Ήμ–΄μ— μν•΄ μΈν„°λ½νΈκ°€ ν•΄μ  λλ‹¤.
10. IRET λ…λ Ήμ–΄κ°€ μ‹¤ν–‰λλ©΄, λ€ν”Όμ‹ν‚¨ PC κ°’μ„ λ³µμ›ν•μ—¬ μ΄μ „ μ‹¤ν–‰ μ„μΉλ΅ λ³µμ›ν•λ‹¤.

λ³΄ν†µ ISRλ΅ λ“¤μ–΄κ°€λ©΄μ„ CPUμ½”μ–΄μ μΈν„°λ½νΈ λ§μ¤ν¬ λΉ„νΈλ¥Ό μλ™ μ„¤μ •ν•κ³  μ‹μ‘λκΈ° λ•λ¬Έμ— λ‹¤λ¥Έ μΈν„°λ½νΈ μ²λ¦¬λ” λ€κΈ° μƒνƒλ΅ λλ” κ²½μ°κ°€ μΌλ°μ μ΄λ‹¤. λ”°λΌμ„ ISR λ‚΄μ—μ„ λ‹¤λ¥Έ μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•κ³  μ‹¶μ„ κ²½μ° μ΄ λ§μ¤ν¬ λΉ„νΈλ¥Ό ν•΄μ  ν•΄μ•Ό ν•λ‹¤.

</aside>

<aside>
π’΅ **ν”„λ΅μ„Έμ¤ A μ‹¤ν–‰ μ¤‘ λ””μ¤ν¬μ—μ„ μ–΄λ–¤ λ°μ΄ν„°λ¥Ό μ½μ–΄μ¤λΌλ” λ…λ Ήμ„ λ°›μ•μ„ λ• μμ‹**

1. ν”„λ΅μ„Έμ¤ Aλ” system callμ„ ν†µν•΄ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚΄
2. CPUλ” ν„μ¬ μ§„ν–‰μ¤‘μΈ κΈ°κ³„μ–΄ μ½”λ“λ¥Ό μ™„λ£
3. ν„μ¬κΉμ§€ μν–‰μ¤‘μ΄μ—λ μƒνƒλ¥Ό ν•΄λ‹Ή ν”„λ΅μ„Έμ¤μΒ **PCB(Process Control Block)**μ— μ €μ¥Β (μν–‰μ¤‘μ΄λ λ©”λ¨λ¦¬ μ£Όμ†, λ μ§€μ¤ν„° κ°’ λ“±λ“±)
4. PC(Program Counter, IP)μ— λ‹¤μ μ‹¤ν–‰ν•  λ…λ Ήμ μ£Όμ† μ €μ¥
5. μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ½κ³  ISR μ£Όμ†κ°’μ„ μ–»μ–΄ ISR(interrupt Service Routine)μΌλ΅ μ ν”„ν•μ—¬ λ£¨ν‹΄μ„ μ‹¤ν–‰
6. ν•΄λ‹Ή μ½”λ“ μ‹¤ν–‰
7. ν•΄λ‹Ή μΌμ„ λ‹¤ μ²λ¦¬ν•λ©΄ μ €μ¥ν–λ ν”„λ΅μ„Έμ¤ μƒνƒ λ³µκµ¬
8. ISRμ λμ— IRETλ…λ Ήμ–΄μ— μν•΄ μΈν„°λ½νΈκ°€ ν•΄μ 
9. IRET λ…λ Ήμ–΄κ°€ μ‹¤ν–‰λλ©΄, λ€ν”Όμ‹ν‚¨ PC κ°’μ„ λ³µμ›ν•μ—¬ μ΄μ „ μ‹¤ν–‰μ„μΉλ΅ λ³µμ›
</aside>